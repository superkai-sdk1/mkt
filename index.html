<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#0a0a0f">
  <meta name="description" content="SMM-специалист и маркетолог. Аудит, стратегия и продвижение в Instagram.">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Услуги — SMM & Маркетинг</title>
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="icon-192.svg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="glow glow-1"></div>
  <div class="glow glow-2"></div>
  <div class="glow glow-3"></div>

  <div class="wrapper">

    <!-- Hero -->
    <header class="hero">
      <div class="badge">
        <span class="badge-dot"></span>
        <span id="heroBadge">Открыт для новых клиентов</span>
      </div>
      <h1 id="heroTitle">Продвижение<br>в&nbsp;соцсетях</h1>
      <p id="heroSubtitle">Аудит, стратегия и разбор вашего Instagram. Прозрачные цены, измеримый результат.</p>
      <a href="#services" class="hero-cta" id="heroCta">
        <span id="heroCtaText">Смотреть услуги</span>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"/></svg>
      </a>
      <div class="scroll-hint">
        <div class="scroll-line"></div>
      </div>
    </header>

    <!-- Services -->
    <section id="services">
      <div class="section-label fade-up" id="secLabel">Что я предлагаю</div>
      <h2 class="section-title fade-up" id="secTitle">Услуги и&nbsp;цены</h2>
      <p class="section-subtitle fade-up" id="secSubtitle">Выберите подходящий формат — от быстрого разбора до полной стратегии роста</p>

      <!-- Tabs -->
      <div class="tabs fade-up">
        <button class="tab active" data-tab="services" id="tabServices">Услуги</button>
        <button class="tab" data-tab="channels" id="tabChannels">Закрытые каналы</button>
      </div>

      <!-- Tab: Услуги -->
      <div class="tab-panel active" id="tab-services">
        <div class="services" id="servicesGrid"></div>
      </div>

      <!-- Tab: Закрытые каналы -->
      <div class="tab-panel" id="tab-channels">
        <div class="services" id="channelsGrid"></div>
      </div>

    </section>

    <!-- About -->
    <section class="about-section" id="about">
      <div class="about-inner fade-up">
        <div class="about-photo">
          <div class="about-photo-placeholder">R</div>
        </div>
        <div class="about-text">
          <div class="section-label">Обо мне</div>
          <h2 class="about-title">Rahim</h2>
          <p>SMM-специалист и маркетолог. Помогаю экспертам, предпринимателям и брендам выстраивать сильное присутствие в Instagram — от упаковки профиля до полной стратегии продвижения.</p>
          <div class="about-stats">
            <div class="about-stat">
              <span class="about-stat-value">50+</span>
              <span class="about-stat-label">проектов</span>
            </div>
            <div class="about-stat">
              <span class="about-stat-value">3+</span>
              <span class="about-stat-label">года опыта</span>
            </div>
            <div class="about-stat">
              <span class="about-stat-value">100%</span>
              <span class="about-stat-label">индивидуальный подход</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA -->
    <div class="cta-section">
      <div class="cta-box fade-up">
        <h2 id="ctaTitle">Остались вопросы?</h2>
        <p id="ctaSubtitle">Напишите мне, и мы подберём подходящий формат работы под ваши задачи.</p>
        <a id="ctaBtn" href="https://t.me/MktRahim" class="cta-btn" target="_blank" rel="noopener">
          <span id="ctaBtnText">Написать в Telegram</span>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.07-.2-.08-.06-.19-.04-.27-.02-.12.03-1.99 1.27-5.62 3.72-.53.36-1.01.54-1.44.53-.47-.01-1.38-.27-2.06-.49-.83-.27-1.49-.42-1.43-.88.03-.24.37-.49 1.02-.74 3.99-1.74 6.65-2.89 7.99-3.44 3.81-1.6 4.6-1.87 5.12-1.88.11 0 .37.03.54.17.14.12.18.28.2.45-.01.06.01.24 0 .38z"/></svg>
        </a>
      </div>
    </div>

    <!-- Footer -->
    <footer>&copy; 2026 <a href="admin.html" style="color:rgba(255,255,255,0.15);text-decoration:none;margin-left:.5em;font-size:.7em">admin</a></footer>

  </div>

  <!-- Modal -->
  <div class="modal-overlay" id="modal">
    <div class="modal-content">
      <button class="modal-close" id="modalClose" aria-label="Закрыть">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/></svg>
      </button>
      <h3 class="modal-title" id="modalTitle"></h3>
      <div class="modal-price" id="modalPrice"></div>
      <p class="modal-desc" id="modalDesc"></p>
      <a id="modalTgLink" href="#" class="cta-btn modal-btn" target="_blank" rel="noopener">
        Написать в Telegram
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.07-.2-.08-.06-.19-.04-.27-.02-.12.03-1.99 1.27-5.62 3.72-.53.36-1.01.54-1.44.53-.47-.01-1.38-.27-2.06-.49-.83-.27-1.49-.42-1.43-.88.03-.24.37-.49 1.02-.74 3.99-1.74 6.65-2.89 7.99-3.44 3.81-1.6 4.6-1.87 5.12-1.88.11 0 .37.03.54.17.14.12.18.28.2.45-.01.06.01.24 0 .38z"/></svg>
      </a>
    </div>
  </div>

  <script>
    const ICONS = [
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"/></svg>',
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/></svg>',
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"/></svg>',
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15a2.25 2.25 0 0 1 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"/></svg>',
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"/></svg>',
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5a17.92 17.92 0 0 1-8.716-2.247m0 0A8.966 8.966 0 0 1 3 12c0-1.264.26-2.466.733-3.559"/></svg>',
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"/></svg>'
    ];
    const ARROW = '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m4.5 19.5 15-15m0 0H8.25m11.25 0v11.25"/></svg>';

    function esc(s) { return (s||"").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;"); }

    function buildCard(item, idx, isFeatured) {
      const num = String(idx + 1).padStart(2, "0");
      const icon = ICONS[idx % ICONS.length];
      if (isFeatured) {
        const badgeHtml = item.badge ? `<div class="featured-badge">${esc(item.badge)}</div>` : "";
        return `<div class="card featured fade-up stagger-${idx+1}" data-modal data-title="${esc(item.title)}" data-price="${esc(item.price)}" data-desc="${esc(item.desc)}">
          <div class="featured-left">
            ${badgeHtml}
            <div class="card-icon">${icon}</div>
            <h3>${esc(item.title)}</h3>
            <p>${esc(item.shortDesc)}</p>
          </div>
          <div class="featured-right">
            <div class="card-price">${esc(item.price)}</div>
          </div>
        </div>`;
      }
      return `<div class="card fade-up stagger-${idx+1}" data-modal data-title="${esc(item.title)}" data-price="${esc(item.price)}" data-desc="${esc(item.desc)}">
        <div class="card-number">${num}</div>
        <div class="card-icon">${icon}</div>
        <h3>${esc(item.title)}</h3>
        <p>${esc(item.shortDesc)}</p>
        <div class="card-bottom">
          <div class="card-price">${esc(item.price)}</div>
          <div class="card-arrow">${ARROW}</div>
        </div>
      </div>`;
    }

    function renderGrid(gridId, items) {
      const g = document.getElementById(gridId);
      g.innerHTML = items.map((it, i) => buildCard(it, i, !!it.featured)).join("");
    }

    function applyAbout(a, hasAvatar) {
      const sec = document.getElementById("about");
      if (!sec) return;
      const ph = sec.querySelector(".about-photo-placeholder");
      if (ph) {
        if (hasAvatar) {
          ph.textContent = "";
          ph.style.background = "none";
          let img = ph.querySelector("img");
          if (!img) { img = document.createElement("img"); img.style.cssText = "width:100%;height:100%;object-fit:cover;border-radius:50%"; ph.appendChild(img); }
          img.src = "/api/avatar?" + Date.now();
        } else {
          ph.textContent = a.initial || "R";
        }
      }
      const t = sec.querySelector(".about-title"); if (t) t.textContent = a.name;
      const p = sec.querySelector(".about-text > p"); if (p) p.textContent = a.bio;
      const vals = sec.querySelectorAll(".about-stat-value");
      const labs = sec.querySelectorAll(".about-stat-label");
      if (vals[0]) vals[0].textContent = a.stat1Value; if (labs[0]) labs[0].textContent = a.stat1Label;
      if (vals[1]) vals[1].textContent = a.stat2Value; if (labs[1]) labs[1].textContent = a.stat2Label;
      if (vals[2]) vals[2].textContent = a.stat3Value; if (labs[2]) labs[2].textContent = a.stat3Label;
    }

    const observer = new IntersectionObserver(
      entries => entries.forEach(e => { if (e.isIntersecting) e.target.classList.add("visible"); }),
      { threshold: 0.1, rootMargin: "0px 0px -40px 0px" }
    );

    const modal = document.getElementById("modal");
    const modalTitle = document.getElementById("modalTitle");
    const modalPrice = document.getElementById("modalPrice");
    const modalDesc = document.getElementById("modalDesc");
    const modalTgLink = document.getElementById("modalTgLink");

    let tgBaseUrl = "https://t.me/MktRahim";
    function buildTgLink(title, price) {
      const msg = `Здравствуйте! Меня интересует услуга «${title}» (${price}). Расскажите подробнее, пожалуйста.`;
      return `${tgBaseUrl}?text=${encodeURIComponent(msg)}`;
    }

    function bindCards() {
      document.querySelectorAll("[data-modal]").forEach(card => {
        card.style.cursor = "pointer";
        card.addEventListener("click", () => {
          modalTitle.textContent = card.dataset.title;
          modalPrice.textContent = card.dataset.price;
          modalDesc.textContent = card.dataset.desc;
          modalTgLink.href = buildTgLink(card.dataset.title, card.dataset.price);
          modal.classList.add("active");
          document.body.style.overflow = "hidden";
        });
      });
      document.querySelectorAll(".fade-up").forEach(el => observer.observe(el));
    }

    function applyHero(h) {
      if (!h) return;
      if (h.badge) document.getElementById("heroBadge").textContent = h.badge;
      if (h.title) document.getElementById("heroTitle").innerHTML = h.title.replace(/\n/g, "<br>");
      if (h.subtitle) document.getElementById("heroSubtitle").textContent = h.subtitle;
      if (h.ctaText) document.getElementById("heroCtaText").textContent = h.ctaText;
    }

    function applySections(s) {
      if (!s) return;
      if (s.label) document.getElementById("secLabel").textContent = s.label;
      if (s.title) document.getElementById("secTitle").innerHTML = s.title;
      if (s.subtitle) document.getElementById("secSubtitle").textContent = s.subtitle;
      if (s.tab1) document.getElementById("tabServices").textContent = s.tab1;
      if (s.tab2) document.getElementById("tabChannels").textContent = s.tab2;
    }

    function applyCta(c) {
      if (!c) return;
      if (c.title) document.getElementById("ctaTitle").textContent = c.title;
      if (c.subtitle) document.getElementById("ctaSubtitle").textContent = c.subtitle;
      if (c.btnText) document.getElementById("ctaBtnText").textContent = c.btnText;
      if (c.tgUrl) { document.getElementById("ctaBtn").href = c.tgUrl; tgBaseUrl = c.tgUrl; }
    }

    (async function loadSite() {
      try {
        const res = await fetch("/api/data");
        const data = await res.json();
        applyHero(data.hero);
        applySections(data.sections);
        applyCta(data.cta);
        renderGrid("servicesGrid", data.services || []);
        renderGrid("channelsGrid", data.channels || []);
        applyAbout(data.about || {}, !!data.hasAvatar);
      } catch {
        document.getElementById("servicesGrid").innerHTML = '<p style="color:rgba(255,255,255,.4);text-align:center;grid-column:1/-1">Не удалось загрузить данные</p>';
      }
      bindCards();
    })();

    document.addEventListener("mousemove", e => {
      const x = e.clientX / window.innerWidth - 0.5;
      const y = e.clientY / window.innerHeight - 0.5;
      document.querySelectorAll(".glow").forEach((g, i) => {
        const speed = (i + 1) * 8;
        g.style.transform = `translate(${x * speed}px, ${y * speed}px)`;
      });
    });

    document.querySelectorAll(".tab").forEach(tab => {
      tab.addEventListener("click", () => {
        document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
        document.querySelectorAll(".tab-panel").forEach(p => p.classList.remove("active"));
        tab.classList.add("active");
        const panel = document.getElementById("tab-" + tab.dataset.tab);
        panel.classList.add("active");
        panel.querySelectorAll(".fade-up").forEach(el => {
          el.classList.remove("visible");
          observer.observe(el);
          requestAnimationFrame(() => requestAnimationFrame(() => el.classList.add("visible")));
        });
      });
    });

    function closeModal() {
      modal.classList.remove("active");
      document.body.style.overflow = "";
    }

    document.getElementById("modalClose").addEventListener("click", closeModal);
    modal.addEventListener("click", e => { if (e.target === modal) closeModal(); });
    document.addEventListener("keydown", e => { if (e.key === "Escape") closeModal(); });
  </script>

</body>
</html>
